<div class="deposit-withdraw">
  <div class="amount-display">
    <p class="label">Enter Amount in USD</p>

    <div class="input-wrapper">
      <span class="prefix">$</span>

      <input
        id="amountInput"
        name="amountInput"
        type="text"
        inputmode="numeric"
        pattern="[0-9]*"
        [value]="displayValue"
        (input)="onInputChange($event)"
        (keydown)="blockNonNumeric($event)"
        (blur)="onBlur()"
        [class.invalid]="isInvalid"
      />
    </div>

    <p class="range">
      min. ${{ minValue }} â€“ max. ${{ maxValue | number : "1.0-2" }}
    </p>
    <p class="balance">
      Current Balance: ${{ walletBalance | number : "1.0-2" }}
    </p>
  </div>

  <app-option-button
    [options]="percentages"
    [selectedValue]="selectedPercent"
    (selectionChange)="onPercentageChange($event)"
  ></app-option-button>

  @if (showSuccessModal && transactionResult) {
  <div class="modal-overlay">
    <div class="success-modal">
      <div class="icon">
        <img src="assets/img/success.svg" alt="Success icon" />
      </div>
      <div class="headline">Transaction Successful</div>
      <div class="message">
        You {{ mode === WalletAction.DEPOSIT ? "deposited" : "withdrew" }}
        <strong>{{
          transactionResult | currency : "USD" : "symbol" : "1.2-2"
        }}</strong>
      </div>
      <app-primary-button
        type="button"
        [value]="'Done'"
        (click)="closeSuccess()"
      ></app-primary-button>
    </div>
  </div>
  }

  <div class="submit-button-container">
    <app-primary-button
      type="button"
      [value]="mode === WalletAction.DEPOSIT ? 'DEPOSIT' : 'WITHDRAW'"
      [loading]="isUpdating"
      [loadingMessage]="'In Progress...'"
      [disabled]="isInvalid"
      (click)="submit()"
    ></app-primary-button>
  </div>
</div>
